{% if paginator.num_pages > 1 %}
  <nav aria-label="pagination">
    <ul class="pagination justify-content-center">
      {% if paginator.num_pages != 1 %}
        <li class="page-item"><a class="page-link" href="?page=1{{ query_string }}">First</a></li>
      {% else %}
        <li class="page-item disabled"><a class="page-link" href="#">First</a></li>
      {% endif %}

      <li class="page-item {% if not page_obj.has_previous %}disabled{% endif %}">
        <a href="{% if page_obj.has_previous %}?page={{ page_obj.previous_page_number }}{{ query_string }}{% else %}#{% endif %}" class="page-link">&laquo;</a>
      </li>
    
      {% for i in paginator.page_range %}
        {% if page_obj.number == i %}
          <li class="page-item active"><a class="page-link" href="#">{{ i }}</a></li>
        {% elif page_obj.number > i|add:"-5" and page_obj.number < i|add:"+5"%}
          <li class="page-item"><a class="page-link" href="?page={{ i }}{{ query_string }}">{{ i }}</a></li>
        {% endif %}
      {% endfor %}

      <li class="page-item {% if not page_obj.has_next %}disabled{% endif %}">
        <a href="{% if page_obj.has_next %}?page={{ page_obj.next_page_number }}{{ query_string }}{% else %}#{% endif %}" class="page-link">&raquo;</a>
      </li>

      {% if paginator.num_pages != page_obj.number %}
        <li class="page-item"><a class="page-link" href="?page={{ paginator.num_pages }}{{ query_string }}">Last</a></li>
      {% else %}
        <li class="page-item disabled"><a class="page-link" href="#">Last</a></li>
      {% endif %}
    </ul>
  </nav>
{% endif %}